<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet"  href="css/register.css">
    <title>注册</title>
</head>
<body>
    <div class="top">
        <a href=""><img src="img/reg1.png" alt="" title="网易考拉"></a>
        <a href=""><img src="img/reg2.jpg" alt=""></a>
    </div>
    <div class="center">
        <div class="content-reg">
            <a class="content-reg-left">
                 <img src="img/reg7.png" alt="">
            </a>
            <div class="content-reg-right">
                <div class="wel-reg">
                    <p>欢迎注册</p>
                    <p><span>已有帐号？</span><a href="login.html">去登录></a></p>
                </div>
                <div class="reg-inf">
                    <form action="">
                        <div class="btn01">
                            <input id="phoneId" type="text" placeholder="请输入手机号">
                            <p></p>
                        </div>
                        <div class="btn02">
                            <input type="text" placeholder="请输入短信验证码">
                            <input type="button" value="获取验证码">
                        </div>
                        <div class="btn03">
                            <input id="passId" type="password" placeholder="请输入密码">
                            <p></p>
                        </div>
                        <div class="btn06">
                            <span></span>
                            <p id="IpMsg"></p>   
                        </div>
                        <a class="btn04">
                            <input  id="btnreg" type="button" value="注  册">                          
                        </a>                     
                        <p class="btn05">
                            <input type="checkbox" checked/><label for="checkA">&nbsp;&nbsp;我同意 </label>
                            <a href="">《服务条款》</a>
                            <span>和</span>
                            <a href="">《网易隐私协议》</a>
                        </p>
                   </form>
                </div>
            </div>
        </div>

    </div>
    <div class="bottom">
        <ul class="reg-con">
            <li class="reg-list">
                <a href="" title="About NetEase">About NetEase</a>
                <a href="" title="公司简介">公司简介</a>
                <a href="" title="联系方法">联系方法</a>
                <a href="" title="友情链接">友情链接</a>
                <a href="" title="招聘信息">招聘信息</a>
                <a href="" title="客户服务">客户服务</a>
                <a href="" title="隐私政策">隐私政策</a>
                <a href="" title="网络营销">网络营销</a>
                <a href="" title="网站地图">网站地图</a>
                <a href="" title="网易考拉">网易考拉</a>
            </li>
            <li class="reg-licence">
                <span>网络文化经营许可证：浙网文[2016]0155-055号</span>
                <span>增值电信业务经营许可证：浙B2-20160288</span>
                <a href="" title="自营经营者信息">自营经营者信息</a>
            </li>
            <li class="pact">
                <a href=""></a><img src="img/reg3.png" alt=""></a>
                <a href="">浙公网安备 33010802002216号</a>
                <span>网易公司版权所有©1997-2018</span>
                <a href="">互联网药品信息服务资格证书编号（浙）-2017-0027</a>
            </li>
            <li class="picture">
                <a href=""><img src="img/reg6.png" alt=""></a>
                <a href=""><img src="img/reg5.gif" alt=""></a>
            </li>
        </ul>
    </div>
</body>
</html>
<script src="js/jquery-2.1.4.min.js"></script>
<script>
 window.onload = function () {
 
    $1("#passId").onblur=function(){

        if ($1("#passId").value != "") {          
        } else if ($1("#passId").value == "") {
             $1("#IpMsg").innerHTML = "请输入密码";
             $(".btn03 p").css("display", "block");
        }                   
    }
    $1("#phoneId").onblur= function () {
         var regObj = /^1[0-9]{10}$/;
         if (regObj.test(this.value)) {
            $(".btn01 p").css("display", "none");
             $1("#IpMsg").innerHTML ="对";
         } else {
            $1("#IpMsg").innerHTML = "请输入正确的手机号码";
            $(".btn01 p").css("display", "block");
         }
         let xhr = new XMLHttpRequest();
         xhr.open("get", "register.php?phoneId=" + $1("#phoneId").value, true);
         xhr.onreadystatechange = function () {
             if (xhr.readyState == 4 && xhr.status == 200) {
                 if (xhr.responseText == "1") {
                     $1("#IpMsg").innerHTML = "手机号已被注册";       
                 } else {   
                    $1("#btnreg").onclick = function () {
                         if($1("#passId").value != ""){
                            location.href = "index.html";
                         }else if($1("#passId").value == ""){
                            $1("#IpMsg").innerHTML = "请输入密码";
                         }                     
                     }        
                 }
             }
         }
         xhr.send();
     }
   
}
function $1(str) {
    if (str.charAt(0) == "#") {
        return document.getElementById(str.substring(1));
    } else if (str.charAt(0) == ".") {
        return document.getElementsByClassName(str.substring(1));
    } else {
        return document.getElementsByTagName(str);
    }
}	
</script>